{% extends 'base.html' %}

{% block title %}Podsumowanie Zamówienia{% endblock %}

{% block content %}
    <div class="order-summary-container">
        <h2>Podsumowanie zamówienia</h2>
        <div class="order-summary-details">
            <h3>Zamówienie #{{ order.id }}</h3>
            <p>Status: <strong>{{ order.get_status_display }}</strong></p>
            <p>Data utworzenia: <strong>{{ order.created_at }}</strong></p>
            <p>Łączna kwota: <strong>{{ order.total_amount|floatformat:2 }} zł</strong></p>
        </div>

        <h3>Produkty</h3>
        <ul class="order-products">
            {% for product in products %}
                <li>
                    <strong>{{ product.name }}</strong>
                    <span>Cena: {{ product.price|floatformat:2 }} zł</span>
                </li>
            {% empty %}
                <p>Brak produktów w zamówieniu.</p>
            {% endfor %}
        </ul>

        <h3>Adres dostawy</h3>
        {% if delivery_address %}
            <p>{{ delivery_address.street }}, {{ delivery_address.city }}, {{ delivery_address.postal_code }}</p>
            <p>{{ delivery_address.country }}</p>
        {% else %}
            <p>Adres dostawy nie został wybrany.</p>
        {% endif %}

        <h3>Metoda płatności</h3>
        {% if payment_method %}
            <p>{{ payment_method.get_payment_method_display }}</p>
        {% else %}
            <p>Metoda płatności nie została wybrana.</p>
        {% endif %}
    </div>
{% endblock %}
