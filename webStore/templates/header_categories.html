<!-- Button to toggle categories -->
<table class="navbar-nav">
    <tr class="ps-3">
        <th class="nav-item" id="categories-toggle" style="cursor: pointer" aria-expanded="false" title="Categories">
            <a class="nav-link mx-2 icon-text"><i class="fas fa-bars me-2"></i>Categories</a>
            <a class="nav-link mx-2 only-icon"><i class="fas fa-bars"></i></a>
        </th>
    </tr>
</table>
<!-- Categories section -->
<div class="flex-wrap col-3 ps-0" id="header_categories">
    <div class="mt-2 px-0">
        <aside>
            <div class="px-0">
                {% csrf_token %}
                {% for category in categories %}
                    <div class="category-item" data-index="{{ forloop.counter0 }}">
                        <li class="list-unstyled my-2 mx-4">
                            <a class="category-item-txt" href="#">{{ category.name }}</a>
                        </li>
                        {% if category.subcategories.exists %}
                            <div class="subcategory-list">
                                {% for subcategory in category.subcategories.all %}
                                    <li class="list-unstyled my-2 mx-4">
                                        <a class="subcategory-item-txt" href="?category={{ subcategory.id }}">
                                            {{ subcategory.name }}
                                        </a>
                                    </li>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </aside>
    </div>
</div>